ARG FROM_IMAGE_NAME=nvcr.io/nvidia/pytorch:24.04-py3
FROM ${FROM_IMAGE_NAME}

RUN apt-get update \
  && apt-get install -yqq --no-install-recommends openssh-server \
  && rm -rf /var/lib/apt/lists/*
RUN mkdir -p /run/sshd

#git+https://github.com/mlcommons/logging.git@4.0.0-rc2
#git+https://github.com/NVIDIA/mlperf-common.git@68cf1d0d5e3de3351e66abb696d0e2d011aabf47
RUN pip install -vvv \
  git+https://github.com/mlcommons/logging.git@4.0.0-rc2 \
  git+https://github.com/NVIDIA/mlperf-common.git@68cf1d0d5e3de3351e66abb696d0e2d011aabf47 \
  zarr
RUN pip install -vvv tensorstore==0.1.45

